
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>HTTP Helpers &#8212; Chameleon Cloud Hammers 0.11 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Direct Database Access" href="sql.html" />
    <link rel="prev" title="HTTP API Access" href="http-api.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="http-helpers">
<h1>HTTP Helpers<a class="headerlink" href="#http-helpers" title="Permalink to this headline">¶</a></h1>
<p>Hello there.</p>
<div class="section" id="auth-management">
<h2>Auth Management<a class="headerlink" href="#auth-management" title="Permalink to this headline">¶</a></h2>
<p>Tools to convert credentials into authentication and authorization in raw
Python, as opposed to the Python APIs provided by <cite>keystoneauth1</cite> or the
like. They were largely created out of frustration with the apparent
moving target and inconsistencies of the OS client APIs, which was also
exacerbated by the Blazar client being fairly nacent.</p>
<dl class="function">
<dt id="hammers.osapi.add_arguments">
<code class="descclassname">hammers.osapi.</code><code class="descname">add_arguments</code><span class="sig-paren">(</span><em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hammers/osapi.html#add_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hammers.osapi.add_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Inject an arg into the user’s parser. Pairs well with
<a class="reference internal" href="#hammers.osapi.Auth.from_env_or_args" title="hammers.osapi.Auth.from_env_or_args"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Auth.from_env_or_args()</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="hammers.osapi.load_osrc">
<code class="descclassname">hammers.osapi.</code><code class="descname">load_osrc</code><span class="sig-paren">(</span><em>fn</em>, <em>get_pass=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hammers/osapi.html#load_osrc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hammers.osapi.load_osrc" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a Bash RC file dumped out by the dashboard to a dict.
Used to load the file specified by <a class="reference internal" href="#hammers.osapi.add_arguments" title="hammers.osapi.add_arguments"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_arguments()</span></code></a>.</p>
</dd></dl>

<dl class="class">
<dt id="hammers.osapi.Auth">
<em class="property">class </em><code class="descclassname">hammers.osapi.</code><code class="descname">Auth</code><span class="sig-paren">(</span><em>rc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hammers/osapi.html#Auth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hammers.osapi.Auth" title="Permalink to this definition">¶</a></dt>
<dd><p>The Auth object consumes credentials and provides tokens and endpoints.
Create either directly by providing a mapping with the keys in
<code class="docutils literal notranslate"><span class="pre">required_os_vars</span></code> or via the <a class="reference internal" href="#hammers.osapi.Auth.from_env_or_args" title="hammers.osapi.Auth.from_env_or_args"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Auth.from_env_or_args()</span></code></a> method.</p>
<dl class="classmethod">
<dt id="hammers.osapi.Auth.from_env_or_args">
<em class="property">classmethod </em><code class="descname">from_env_or_args</code><span class="sig-paren">(</span><em>*</em>, <em>args=None</em>, <em>env=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hammers/osapi.html#Auth.from_env_or_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hammers.osapi.Auth.from_env_or_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the RC values from the file in the provided <em>args</em> namespace,
falling back to the environment vars if <em>env</em> is true.
<a class="reference internal" href="#hammers.osapi.add_arguments" title="hammers.osapi.add_arguments"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_arguments()</span></code></a> is a helper function that will add the “osrc”
argument to an argparse parser.</p>
<p>Returns an Auth object that’s ready for use.</p>
</dd></dl>

<dl class="method">
<dt id="hammers.osapi.Auth.authenticate">
<code class="descname">authenticate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hammers/osapi.html#Auth.authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hammers.osapi.Auth.authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Authenticate with Keystone to get a token and endpoint listing</p>
</dd></dl>

<dl class="method">
<dt id="hammers.osapi.Auth.endpoint">
<code class="descname">endpoint</code><span class="sig-paren">(</span><em>type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hammers/osapi.html#Auth.endpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hammers.osapi.Auth.endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the endpoint for a given service <em>type</em>. Examples include <code class="docutils literal notranslate"><span class="pre">compute</span></code> for Nova,
<code class="docutils literal notranslate"><span class="pre">reservation</span></code> for Blazar, or <code class="docutils literal notranslate"><span class="pre">image</span></code> for Glance.</p>
</dd></dl>

<dl class="attribute">
<dt id="hammers.osapi.Auth.token">
<code class="descname">token</code><a class="headerlink" href="#hammers.osapi.Auth.token" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only property that returns an active token, reauthenticating if
it has expired. Most services accept this in the HTTP request header
under the key <code class="docutils literal notranslate"><span class="pre">X-Auth-Token</span></code>.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">HTTP Helpers</a><ul>
<li><a class="reference internal" href="#auth-management">Auth Management</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="http-api.html">HTTP API Access</a><ul>
      <li>Previous: <a href="http-api.html" title="previous chapter">HTTP API Access</a></li>
      <li>Next: <a href="sql.html" title="next chapter">Direct Database Access</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/http-api-helpers.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Nick Timkovich.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/http-api-helpers.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>